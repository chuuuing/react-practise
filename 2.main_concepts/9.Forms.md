# Forms

HTML è¡¨å•ï¼ˆFormï¼‰ä¸å…¶ä»–çš„ React DOM Elements ä¸å¤ªä¸€æ ·ã€‚å®ƒæœ¬èº«å°±æ˜¯ stateful çš„ã€‚

å½“è¡¨å•è¢«æäº¤æ—¶ï¼Œå®ƒçš„é»˜è®¤è¡Œä¸ºæ˜¯è·³è½¬åˆ°ä¸€ä¸ªæ–°é¡µé¢ã€‚ä½†æ›´å¸¸è§çš„è¡Œä¸ºæ˜¯ï¼Œå†™ä¸€ä¸ª js å‡½æ•°æ¥å¤„ç†è¡¨å•æäº¤çš„æ•°æ®ã€‚

`<input>`ã€`<textarea>` å’Œ `<select>`ç­‰å…ƒç´ é€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•ä¿®æ”¹ä»–ä»¬çš„ stateã€‚è¿™ç±» component è¢«ç§°ä¸º**Controlled Components**

1. ç”¨æˆ·è¾“å…¥
2. ä½¿ç”¨ React è‡ªå¸¦çš„`setState()`æ–¹æ³•

<img src="../assets/state.png" width="500">

# Controlled Component

## INPUT

ä»¥ä¸‹è¡¨å•ä¸­çš„åå­—æ˜¯æ˜¯ç”¨æˆ·è¾“å…¥çš„`<input>`ï¼Œç”¨æˆ·è¾“å…¥ä¹‹å`handleChange`æ–¹æ³•æ›´æ–°äº† state ä¸­`name`çš„å€¼ï¼Œç„¶åè¯¥`<input>`å†å»æ˜¾ç¤º state ä¸­`name`çš„å€¼

```js
import { useState } from "react";

function NameForm() {
  const [name, setName] = useState("");

  function handleChange(event) {
    this.setName(event.target.value);
  }

  function handleSubmit(event) {
    alert("A name was submitted: " + this.state.value);
    event.preventDefault();
  }

  return (
    <form onSubmit={handleSubmit}>
      <label>
        Name:
        <input type="text" value={name} onChange={handleChange} />
      </label>

      <input type="submit" value="Submit" />
    </form>
  );
}

export default NameForm;
```

### INPUT: file

`<input>`ä¹Ÿå¯ä»¥ç”¨æ¥ä¸Šä¼ æ–‡ä»¶ã€‚å› ä¸ºè¿™ç±» input åªèƒ½æ˜¯ç”¨æˆ·ä¸Šä¼ çš„ï¼Œå¹¶æ²¡æœ‰ React çš„æ–¹æ³•å¯ä»¥ç”Ÿæˆæ–‡ä»¶ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹æ˜¯**uncontrolled component**.

```html
<input type="file" />
```

### INPUT: multiple

å½“æœ‰å¤šä¸ª input æ—¶ï¼Œå¯ä»¥ç”¨å±æ€§`name`æ¥æ ‡è®°ã€‚

- `event.target.name`ï¼šinput çš„ name
- `event.target.type`ï¼šinput çš„ type
- `event.target.type`ï¼šinput çš„ value

```html
<input name="name" type="text" />
<input name="sex" type="checkbox" />
<input name="age" type="number" />
```

## TEXTAREA

`<textarea>`ç”¨æ³•ä¸`<input>`ä¸€è‡´ã€‚ä¹Ÿç”¨`value`å±æ€§æ¥å‚¨å­˜`<textarea>`çš„å€¼ã€‚

## SELECT

`<select>`ç”¨`value`å±æ€§æ¥å‚¨å­˜æŸäººé€‰é¡¹çš„å€¼ã€‚

```js
<select value={this.state.value} onChange={this.handleChange}>
  <option value="grapefruit">Grapefruit</option>
  <option value="lime">Lime</option>
  <option value="coconut">Coconut</option>
  <option value="mango">Mango</option>
</select>
```



# Uncontrolled Component
**Controlled Components**çš„ç¼ºç‚¹ï¼š
- å½“ä½ ä¸ºä¸€ä¸ª**Controlled Components**å®šä¹‰äº†é»˜è®¤å€¼ï¼ˆ`value="null"`ï¼‰ï¼Œä½†è¾“å…¥ä»ç„¶æ˜¯å¯ç¼–è¾‘çš„ï¼Œä½ å¯èƒ½ä¸å°å¿ƒå°†å€¼è®¾ç½®ä¸º undefined æˆ– nullã€‚--> è¿™ä¼šå¯¼è‡´ğŸã€‚
- ä½ éœ€è¦ä¸ºæ¯ä¸€ç§ä¿®æ”¹æ•°æ®çš„å¯èƒ½æ€§å†™ä¸€ä¸ªevent handler

**Uncontrolled Component**æ˜¯ä¸€ä¸ªè§£å†³æ–¹æ³•ã€‚ğŸ¥¸ğŸ¥¸ğŸ¥¸
**Controlled Components**çš„æ•°æ®ç”±React componentæ¥å¤„ç†ï¼Œè€Œ**Uncontrolled Component**çš„æ•°æ®ç”±æœ¬èº«DOMå¤„ç†ã€‚

åœ¨**Uncontrolled Component**ä¸­ï¼Œæˆ‘ä»¬ç”¨[`ref`](../3.advanced_guides/15.Refs%20and%20the%20DOM.md)ä»£æ›¿`Event Handler`